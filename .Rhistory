dracula_words$gutenberg_id<-NULL
dracula_words[498:500,]
# Chunk 11
dracula_pos<-dracula_words%>%
filter(sentiment=='positive')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
top_n(10,wt=count)
# Chunk 12
dracula_pos
# Chunk 1
library(dplyr)
# Chunk 2
library(ggplot2)
# Chunk 3
library(gutenbergr)
# Chunk 4
library(stringr)
# Chunk 5
library(tidytext)
# Chunk 6
df<-gutenberg_works(str_detect(title,'Dracula'))
df$gutenberg_id
df$title
# Chunk 7
dracula<-gutenberg_download(345)
colnames(dracula)
substr(dracula$text[500],1,21)
# Chunk 8
dracula_words<-dracula%>%
unnest_tokens(word,text)
colnames(dracula_words)
dracula_words[498:500, ]
# Chunk 9
bing<-get_sentiments('bing')
colnames(bing)
bing[498:500,]
# Chunk 10
dracula_words<-inner_join(dracula_words,bing)
dracula_words$gutenberg_id<-NULL
dracula_words[498:500,]
# Chunk 11
dracula_pos<-dracula_words%>%
filter(sentiment=='positive')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
top_n(10,wt=count)
# Chunk 12
dracula_pos
# Chunk 13
dracula_neg<-dracula_words%>%
filter(sentiment=='negative')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
filter(word != 'miss')%>%
top_n(10,wt=count)
# Chunk 14
dracula_neg
# Chunk 15
dracula_pos$word<-factor(dracula_pos$word,levels=dracula_pos$word)
dracula_neg$word<-factor(dracula_neg$word,levels=dracula_neg$word)
dracula_comp<-rbind(dracula_pos,dracula_neg)
plot<-ggplot()+
geom_bar(data=dracula_comp,aes(x=word,y=count,
fill=sentiment, color=sentiment),stat='identity')+
coord_flip()+
facet_wrap(~sentiment,scales='free_y')+
scale_fill_manual(values=c('black','#ea6205'))+
scale_color_manual(values=c('#ea6205','black'))
# Chunk 16
plot
# Chunk 1
library(dplyr)
# Chunk 2
library(ggplot2)
# Chunk 3
library(gutenbergr)
# Chunk 4
library(stringr)
# Chunk 5
library(tidytext)
# Chunk 6
df<-gutenberg_works(str_detect(title,'Dracula'))
df$gutenberg_id
df$title
# Chunk 7
dracula<-gutenberg_download(345)
colnames(dracula)
substr(dracula$text[500],1,21)
# Chunk 8
dracula_words<-dracula%>%
unnest_tokens(word,text)
colnames(dracula_words)
dracula_words[498:500, ]
# Chunk 9
bing<-get_sentiments('bing')
colnames(bing)
bing[498:500,]
# Chunk 10
dracula_words<-inner_join(dracula_words,bing)
dracula_words$gutenberg_id<-NULL
dracula_words[498:500,]
# Chunk 11
dracula_pos<-dracula_words%>%
filter(sentiment=='positive')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
top_n(10,wt=count)
# Chunk 12
dracula_pos
# Chunk 13
dracula_neg<-dracula_words%>%
filter(sentiment=='negative')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
filter(word != 'miss')%>%
top_n(10,wt=count)
# Chunk 14
dracula_neg
# Chunk 15
dracula_pos$word<-factor(dracula_pos$word,levels=dracula_pos$word)
dracula_neg$word<-factor(dracula_neg$word,levels=dracula_neg$word)
dracula_comp<-rbind(dracula_pos,dracula_neg)
plot<-ggplot()+
geom_bar(data=dracula_comp,aes(x=word,y=count,
fill=sentiment, color=sentiment),stat='identity')+
coord_flip()+
facet_wrap(~sentiment,scales='free_y')+
scale_fill_manual(values=c('black','#ea6205'))+
scale_color_manual(values=c('#ea6205','black'))
# Chunk 16
plot
# Chunk 1
library(dplyr)
# Chunk 2
library(ggplot2)
# Chunk 3
library(gutenbergr)
# Chunk 4
library(stringr)
# Chunk 5
library(tidytext)
# Chunk 6
df<-gutenberg_works(str_detect(title,'Dracula'))
df$gutenberg_id
df$title
# Chunk 7
dracula<-gutenberg_download(345)
colnames(dracula)
substr(dracula$text[500],1,21)
# Chunk 8
dracula_words<-dracula%>%
unnest_tokens(word,text)
colnames(dracula_words)
dracula_words[498:500, ]
# Chunk 9
bing<-get_sentiments('bing')
colnames(bing)
bing[498:500,]
# Chunk 10
dracula_words<-inner_join(dracula_words,bing)
dracula_words$gutenberg_id<-NULL
dracula_words[498:500,]
# Chunk 11
dracula_pos<-dracula_words%>%
filter(sentiment=='positive')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
top_n(10,wt=count)
# Chunk 12
dracula_pos
# Chunk 13
dracula_neg<-dracula_words%>%
filter(sentiment=='negative')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
filter(word != 'miss')%>%
top_n(10,wt=count)
# Chunk 14
dracula_neg
# Chunk 15
dracula_pos$word<-factor(dracula_pos$word,levels=dracula_pos$word)
dracula_neg$word<-factor(dracula_neg$word,levels=dracula_neg$word)
dracula_comp<-rbind(dracula_pos,dracula_neg)
plot<-ggplot()+
geom_bar(data=dracula_comp,aes(x=word,y=count,
fill=sentiment, color=sentiment),stat='identity')+
coord_flip()+
facet_wrap(~sentiment,scales='free_y')+
scale_fill_manual(values=c('black','#ea6205'))+
scale_color_manual(values=c('#ea6205','black'))
# Chunk 16
plot
# Chunk 1
library(dplyr)
# Chunk 2
library(ggplot2)
# Chunk 3
library(gutenbergr)
# Chunk 4
library(stringr)
# Chunk 5
library(tidytext)
# Chunk 6
df<-gutenberg_works(str_detect(title,'Dracula'))
df$gutenberg_id
df$title
# Chunk 7
dracula<-gutenberg_download(345)
colnames(dracula)
substr(dracula$text[500],1,21)
# Chunk 8
dracula_words<-dracula%>%
unnest_tokens(word,text)
colnames(dracula_words)
dracula_words[498:500, ]
# Chunk 9
bing<-get_sentiments('bing')
colnames(bing)
bing[498:500,]
# Chunk 10
dracula_words<-inner_join(dracula_words,bing)
dracula_words$gutenberg_id<-NULL
dracula_words[498:500,]
# Chunk 11
dracula_pos<-dracula_words%>%
filter(sentiment=='positive')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
top_n(10,wt=count)
# Chunk 12
dracula_pos
# Chunk 13
dracula_neg<-dracula_words%>%
filter(sentiment=='negative')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
filter(word != 'miss')%>%
top_n(10,wt=count)
# Chunk 14
dracula_neg
# Chunk 15
dracula_pos$word<-factor(dracula_pos$word,levels=dracula_pos$word)
dracula_neg$word<-factor(dracula_neg$word,levels=dracula_neg$word)
dracula_comp<-rbind(dracula_pos,dracula_neg)
plot<-ggplot()+
geom_bar(data=dracula_comp,aes(x=word,y=count,
fill=sentiment, color=sentiment),stat='identity')+
coord_flip()+
facet_wrap(~sentiment,scales='free_y')+
scale_fill_manual(values=c('black','#ea6205'))+
scale_color_manual(values=c('#ea6205','black'))
# Chunk 16
plot
# Chunk 1
library(dplyr)
# Chunk 2
library(ggplot2)
# Chunk 3
library(gutenbergr)
# Chunk 4
library(stringr)
# Chunk 5
library(tidytext)
# Chunk 6
df<-gutenberg_works(str_detect(title,'Dracula'))
df$gutenberg_id
df$title
# Chunk 7
dracula<-gutenberg_download(345)
colnames(dracula)
substr(dracula$text[500],1,21)
# Chunk 8
dracula_words<-dracula%>%
unnest_tokens(word,text)
colnames(dracula_words)
dracula_words[498:500, ]
# Chunk 9
bing<-get_sentiments('bing')
colnames(bing)
bing[498:500,]
# Chunk 10
dracula_words<-inner_join(dracula_words,bing)
dracula_words$gutenberg_id<-NULL
dracula_words[498:500,]
# Chunk 11
dracula_pos<-dracula_words%>%
filter(sentiment=='positive')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
top_n(10,wt=count)
# Chunk 12
dracula_pos
# Chunk 13
dracula_neg<-dracula_words%>%
filter(sentiment=='negative')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
filter(word != 'miss')%>%
top_n(10,wt=count)
# Chunk 14
dracula_neg
# Chunk 15
dracula_pos$word<-factor(dracula_pos$word,levels=dracula_pos$word)
dracula_neg$word<-factor(dracula_neg$word,levels=dracula_neg$word)
dracula_comp<-rbind(dracula_pos,dracula_neg)
plot<-ggplot()+
geom_bar(data=dracula_comp,aes(x=word,y=count,
fill=sentiment, color=sentiment),stat='identity')+
coord_flip()+
facet_wrap(~sentiment,scales='free_y')+
scale_fill_manual(values=c('black','#ea6205'))+
scale_color_manual(values=c('#ea6205','black'))
# Chunk 16
plot
# Chunk 1
library(dplyr)
# Chunk 2
library(ggplot2)
# Chunk 3
library(gutenbergr)
# Chunk 4
library(stringr)
# Chunk 5
library(tidytext)
# Chunk 6
df<-gutenberg_works(str_detect(title,'Dracula'))
df$gutenberg_id
df$title
# Chunk 7
dracula<-gutenberg_download(345)
colnames(dracula)
substr(dracula$text[500],1,21)
# Chunk 8
dracula_words<-dracula%>%
unnest_tokens(word,text)
colnames(dracula_words)
dracula_words[498:500, ]
# Chunk 9
bing<-get_sentiments('bing')
colnames(bing)
bing[498:500,]
# Chunk 10
dracula_words<-inner_join(dracula_words,bing)
dracula_words$gutenberg_id<-NULL
dracula_words[498:500,]
# Chunk 11
dracula_pos<-dracula_words%>%
filter(sentiment=='positive')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
top_n(10,wt=count)
# Chunk 12
dracula_pos
# Chunk 13
dracula_neg<-dracula_words%>%
filter(sentiment=='negative')%>%
group_by(word)%>%
summarize(count=n(),sentiment=first(sentiment))%>%
arrange(count)%>%
filter(word != 'miss')%>%
top_n(10,wt=count)
# Chunk 14
dracula_neg
# Chunk 15
dracula_pos$word<-factor(dracula_pos$word,levels=dracula_pos$word)
dracula_neg$word<-factor(dracula_neg$word,levels=dracula_neg$word)
dracula_comp<-rbind(dracula_pos,dracula_neg)
plot<-ggplot()+
geom_bar(data=dracula_comp,aes(x=word,y=count,
fill=sentiment, color=sentiment),stat='identity')+
coord_flip()+
facet_wrap(~sentiment,scales='free_y')+
scale_fill_manual(values=c('black','#ea6205'))+
scale_color_manual(values=c('#ea6205','black'))
# Chunk 16
plot
setwd("C:/Users/Judy/Desktop/Aliceslide")
setwd("C:/Users/Judy/Desktop/Aliceslide")
alice_words<-alice_words%>%
group_by(word)%>%
summarize(freq=n(),sentiment=first(sentiment))
alice<-gutenberg_download(11)
alice<-alice%>%
filter(!str_detect(alice$text,'^CHAPTER'))
alice<-alice[10:3339,]
alice_words<-alice%>%
unnest_tokens(word,text)
bing<-get_sentiments('bing')
alice_words<-inner_join(alice_words,bing)
alice_words$gutenberg_id<-NULL
alice_words<-alice_words%>%
group_by(word)%>%
summarize(freq=n(),sentiment=first(sentiment))
wordcloud(alice_words$word,alice_words$freq, min.freq = 3)
#Can't get this to work
wordcloud2(alice_words,fig='A,jpg',size=.5,backgroundColor ='black')
alice_matrix<-acast(alice_words,word~sentiment,value.var='freq',fill=0)
comparison.cloud(alice_matrix,colors=c('red','green'))
library("dplyr", lib.loc="~/R/win-library/3.4")
library("gutenbergr", lib.loc="~/R/win-library/3.4")
library("stringr", lib.loc="~/R/win-library/3.4")
library("tidytext", lib.loc="~/R/win-library/3.4")
library("tm", lib.loc="~/R/win-library/3.4")
library("wordcloud", lib.loc="~/R/win-library/3.4")
alice<-alice%>%
filter(!str_detect(alice$text,'^CHAPTER'))
alice<-gutenberg_download(11)
alice<-alice%>%
filter(!str_detect(alice$text,'^CHAPTER'))
alice<-alice[10:3339,]
alice_words<-alice%>%
unnest_tokens(word,text)
bing<-get_sentiments('bing')
alice_words<-inner_join(alice_words,bing)
alice_words$gutenberg_id<-NULL
alice_words<-alice_words%>%
group_by(word)%>%
summarize(freq=n(),sentiment=first(sentiment))
wordcloud(alice_words$word,alice_words$freq, min.freq = 3)
#Can't get this to work
wordcloud2(alice_words,fig='A,jpg',size=.5,backgroundColor ='black')
alice_matrix<-acast(alice_words,word~sentiment,value.var='freq',fill=0)
comparison.cloud(alice_matrix,colors=c('red','green'))
alice<-gutenberg_download(11)
alice<-alice%>%
filter(!str_detect(alice$text,'^CHAPTER'))
alice<-alice[10:3339,]
alice_words<-alice%>%
unnest_tokens(word,text)
bing<-get_sentiments('bing')
alice_words<-inner_join(alice_words,bing)
alice_words$gutenberg_id<-NULL
alice_words<-alice_words%>%
group_by(word)%>%
summarize(freq=n(),sentiment=first(sentiment))
wordcloud(alice_words$word,alice_words$freq, min.freq = 3)
#Can't get this to work
wordcloud2(alice_words,fig='A,jpg',size=.5,backgroundColor ='black')
alice_matrix<-acast(alice_words,word~sentiment,value.var='freq',fill=0)
comparison.cloud(alice_matrix,colors=c('red','green'))
alice<-gutenberg_download(11)
alice<-alice%>%
filter(!str_detect(alice$text,'^CHAPTER'))
alice<-alice[10:3339,]
alice_words<-alice%>%
unnest_tokens(word,text)
bing<-get_sentiments('bing')
alice_words<-inner_join(alice_words,bing)
alice_words$gutenberg_id<-NULL
alice_words<-alice_words%>%
group_by(word)%>%
summarize(freq=n(),sentiment=first(sentiment))
wordcloud(alice_words$word,alice_words$freq, min.freq = 3)
#Can't get this to work
#wordcloud2(alice_words,fig='A,jpg',size=.5,backgroundColor ='black')
alice_matrix<-acast(alice_words,word~sentiment,value.var='freq',fill=0)
comparison.cloud(alice_matrix,colors=c('red','green'))
library("dplyr", lib.loc="~/R/win-library/3.4")
library("gutenbergr", lib.loc="~/R/win-library/3.4")
library("stringr", lib.loc="~/R/win-library/3.4")
library("wordcloud", lib.loc="~/R/win-library/3.4")
library("wordcloud2", lib.loc="~/R/win-library/3.4")
library("tidytext", lib.loc="~/R/win-library/3.4")
library("tm", lib.loc="~/R/win-library/3.4")
alice<-gutenberg_download(11)
alice<-alice%>%
filter(!str_detect(alice$text,'^CHAPTER'))
alice<-alice[10:3339,]
alice_words<-alice%>%
unnest_tokens(word,text)
bing<-get_sentiments('bing')
alice_words<-inner_join(alice_words,bing)
alice_words$gutenberg_id<-NULL
alice_words<-alice_words%>%
group_by(word)%>%
summarize(freq=n(),sentiment=first(sentiment))
wordcloud(alice_words$word,alice_words$freq, min.freq = 3)
#Can't get this to work
wordcloud2(alice_words,fig='A,jpg',size=.5,backgroundColor ='black')
alice_matrix<-acast(alice_words,word~sentiment,value.var='freq',fill=0)
comparison.cloud(alice_matrix,colors=c('red','green'))
library("ggplot2", lib.loc="~/R/win-library/3.4")
alice<-gutenberg_download(11)
alice<-alice%>%
filter(!str_detect(alice$text,'^CHAPTER'))
alice<-alice[10:3339,]
alice_words<-alice%>%
unnest_tokens(word,text)
bing<-get_sentiments('bing')
alice_words<-inner_join(alice_words,bing)
alice_words$gutenberg_id<-NULL
alice_words<-alice_words%>%
group_by(word)%>%
summarize(freq=n(),sentiment=first(sentiment))
wordcloud(alice_words$word,alice_words$freq, min.freq = 3)
#Can't get this to work
wordcloud2(alice_words,fig='A,jpg',size=.5,backgroundColor ='black')
alice_matrix<-acast(alice_words,word~sentiment,value.var='freq',fill=0)
comparison.cloud(alice_matrix,colors=c('red','green'))
